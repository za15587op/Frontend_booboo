<app-navbar />
  <section>
    <button type="button" class="btn btn-outline-secondary m-2">
      <a
        class="text-decoration-none text-center fw-bold text-dark"
        routerLink="/admin"
        ><i class="fa-solid fa-arrow-left"></i> Back</a
      >
    </button>
    <div class="container mt-4">
      <div class="border rounded shadow p-4">
        <div class="d-flex justify-content-between">
          <div class="mb-4 d-flex justify-content-start">
            <input
              type="text"
              class="form-control"
              placeholder="ค้นหาผู้ใช้"
              [(ngModel)]="searchText"
              style="border-radius: 1rem; font-size: 18px; width: 600px;"
              onchange="Search()"
            >
          </div>
        </div>
        <table class="table">
          <thead>
            <tr>
              <th>No.</th>
              <th>Name</th>
              <th>Email</th>
              <th>Role</th>
              <th>Seclet Role</th>
            </tr>
          </thead>
          <tbody>
            @for (item of Search(); track $index) {
            <tr >
              <td>{{ $index + 1 }}</td>
              <td>{{ item.name }}</td>
              <td>{{ item.username }}</td>
              <td>{{ item.user_role }}</td>
              <td>
                <div class="d-flex gap-2">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      [name]="'role-' + $index"
                      [value]="item.user_id"
                      [checked]="item.user_role == 'User'"
                      (change)="ChangeRole(item.user_id, 'User')"
                    >
                    <label class="form-check-label">User</label>
                  </div>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="radio"
                      [name]="'role-' + $index"
                      [value]="item.user_id"
                      [checked]="item.user_role == 'Admin'"
                      (change)="ChangeRole(item.user_id, 'Admin')"
                    >
                    <label class="form-check-label">Admin</label>
                  </div>
                </div>
              </td>
            </tr>
          }
          </tbody>
        </table>
      </div>
    </div>
  </section>
